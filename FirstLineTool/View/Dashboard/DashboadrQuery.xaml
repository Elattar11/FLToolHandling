<Window x:Class="FirstLineTool.View.Dashboard.DashboadrQuery"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FirstLineTool.View.Dashboard"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
        xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
        mc:Ignorable="d"
        FontFamily="{DynamicResource MaterialDesignFont}"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Loaded="Window_Loaded"
        Background="Transparent"
        Title="DashboadrQuery"
        Height="300" Width="800">

    <Border Background="#FAFAFA"
            CornerRadius="10" 
            BorderBrush="#bf072f"
            BorderThickness="1"
            MouseDown="Border_MouseDown">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="*"/>
                <!-- Content -->
            </Grid.RowDefinitions>

            <!-- ========== HEADER ========== -->
            <Grid Grid.Row="0" Margin="10,10,10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- عنوان النافذة + أيقونة -->
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Grid.Column="0"
                            Margin="10,0,0,0">
                    <Icon:PackIconMaterial Kind="ViewDashboard"
                                           Width="20" Height="20"
                                           Foreground="#bf072f"
                                           Margin="0,0,8,0"/>
                    <StackPanel Orientation="Vertical">
                        <TextBlock Text="Dashboard Query Settings"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="#333"/>
                        <TextBlock Text="Edit the main query used by My Dashboard"
                                   FontSize="11"
                                   Foreground="#777"/>
                    </StackPanel>
                </StackPanel>

                <!-- زرار Close -->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Grid.Column="1"
                            Margin="0,0,5,0">
                    <Button x:Name="btnClose"
                            Style="{StaticResource topButton}"
                            Click="btnClose_Click">
                        <Icon:PackIconMaterial Kind="Close" Width="14" Height="14"/>
                    </Button>
                </StackPanel>
            </Grid>

            <!-- ========== CONTENT ========== -->
            <Grid Grid.Row="1" Margin="20,5,20,15">
                <materialDesign:Card Padding="15"
                                     materialDesign:ShadowAssist.ShadowDepth="Depth2">
                    <StackPanel Orientation="Vertical">

                        <TextBlock Text="Dashboard Query"
                                   FontSize="14"
                                   FontWeight="Bold"
                                   Foreground="#bf072f"
                                   Margin="0,0,0,10"/>

                        <!-- TextBox Multiline -->
                        <Grid Height="110" Margin="0,0,0,10">
                            <TextBox x:Name="txtDashboardQuery"
                                     Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                     materialDesign:HintAssist.Hint="Enter dashboard query"
                                     BorderBrush="Black"
                                     BorderThickness="0 0 0 1.5"
                                     AcceptsReturn="True"
                                     TextWrapping="Wrap"
                                     VerticalScrollBarVisibility="Auto"
                                     HorizontalScrollBarVisibility="Auto"/>
                        </Grid>

                        <!-- زرار Update -->
                        <Button x:Name="btnUpdate"
                                Content="Update"
                                Width="120" Height="35"
                                Background="#076ebf"   
                                BorderBrush="Transparent"
                                Foreground="White"
                                HorizontalAlignment="Center"
                                Margin="0,5,0,0"
                                Click="btnUpdate_Click"/>
                    </StackPanel>
                </materialDesign:Card>
            </Grid>

        </Grid>
    </Border>
</Window>
